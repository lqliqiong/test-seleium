{"name": "test_mp_login[woshi-lallalallala-数据库]", "status": "broken", "statusDetails": {"message": "NameError: name 'allure' is not defined", "trace": "self = <scripts.test_02_mp_article.TestMpLogin object at 0x1039eec10>\ntitle = 'woshi', content = 'lallalallala', click_text = '数据库'\n\n    @pytest.mark.parametrize(\"title, content, click_text\", readyaml(\"mp_article.yml\"))\n    def test_mp_login(self, title, content, click_text):\n    \n        try:\n            # 调用登录业务方法\n>           self.article.page_mp_articel(title, content, click_text)\n\ntest_02_mp_article.py:38: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page.page_mp_article.PageMpArticle object at 0x103d65a50>\ntitle = 'woshi', content = 'lallalallala', click_text = '数据库'\n\n    def page_mp_articel(self,title,content,click_text):\n        self.page_click_content_manage()\n        self.page_click_publish_article()\n>       self.page_input_title(title)\n\n../page/page_mp_article.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page.page_mp_article.PageMpArticle object at 0x103d65a50>\ntitle = 'woshi'\n\n    def page_input_title(self, title):\n        sleep(1)\n>       self.bass_input(page.mp_title, title)\nE       AttributeError: 'PageMpArticle' object has no attribute 'bass_input'\n\n../page/page_mp_article.py:21: AttributeError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <scripts.test_02_mp_article.TestMpLogin object at 0x1039eec10>\ntitle = 'woshi', content = 'lallalallala', click_text = '数据库'\n\n    @pytest.mark.parametrize(\"title, content, click_text\", readyaml(\"mp_article.yml\"))\n    def test_mp_login(self, title, content, click_text):\n    \n        try:\n            # 调用登录业务方法\n            self.article.page_mp_articel(title, content, click_text)\n            # 断言\n            assert expect == self.article.page_get_info()\n        except  Exception as e:\n            print(\"错误原因\", e)\n>           self.article.base_get_img()\n\ntest_02_mp_article.py:43: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../base/base.py:68: in base_get_img\n    self.__base_write_img(file_path)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page.page_mp_article.PageMpArticle object at 0x103d65a50>\nfile_path = '/Users/lq/python/test/2020-09/uiAutoTestHmtt/image/20200911183135_.png'\n\n    def __base_write_img(self, file_path):\n        with open(file_path, \"rb\") as f:\n            file = f.read()\n>           allure.attach(\"错误原因\", file, allure.attach_type.PNG)\nE           NameError: name 'allure' is not defined\n\n../base/base.py:73: NameError"}, "attachments": [{"name": "log", "source": "7177c0a6-7e72-4325-acf3-a851da3671f1-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "title", "value": "'woshi'"}, {"name": "content", "value": "'lallalallala'"}, {"name": "click_text", "value": "'数据库'"}], "start": 1599820292603, "stop": 1599820296321, "uuid": "29ff9053-b184-4068-a799-11b23564296a", "historyId": "360d0698737556c219b2cf57316b6569", "testCaseId": "9b66674a365236be33f83214238d0445", "fullName": "scripts.test_02_mp_article.TestMpLogin#test_mp_login", "labels": [{"name": "parentSuite", "value": "scripts"}, {"name": "suite", "value": "test_02_mp_article"}, {"name": "subSuite", "value": "TestMpLogin"}, {"name": "host", "value": "promote.cache-dns.local"}, {"name": "thread", "value": "53431-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "scripts.test_02_mp_article"}]}